<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <title>MGCooling Daily</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React 18 UMD -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <!-- Babel: è®“ç€è¦½å™¨å¯ä»¥ç›´æ¥è·‘ JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      body {
        background-color: #f5f5f7;
      }
      @media print {
        @page {
          margin: 1cm;
          size: A4;
        }
        body {
          -webkit-print-color-adjust: exact !important;
          print-color-adjust: exact !important;
          background: white !important;
        }
        .print\:hidden {
          display: none !important;
        }
        .print\:block {
          display: block !important;
        }
        a[href]:after {
          content: none !important;
        }
      }
    </style>
  </head>
  <body class="min-h-screen">
    <div id="root"></div>

    <!-- React App -->
    <script type="text/babel">
      const { useState, useEffect } = React;

      // æ¨¡æ“¬æ–°èè³‡æ–™
      const MOCK_NEWS_DATA = {
        company: {
          label: "MGCooling å…¬å¸å‹•æ…‹",
          color: "from-blue-500 to-blue-600",
          items: [
            {
              title: "ç·¯å‰µåŠ ç¢¼ä½ˆå±€æ¶²å†·ï¼ŒMGCooling æ‰®æ¼”é—œéµè§’è‰²",
              source: "æ•¸ä½æ™‚ä»£",
              published: "2025-12-02",
              link: "https://www.google.com/search?q=ç·¯å‰µ+æ¶²å†·+MGCooling+å…ƒéˆ¦ç§‘æŠ€",
              summary:
                "ç·¯å‰µè³‡é€šçœ‹å¥½ AI ç®—åŠ›å¸¶å‹•çš„æ•£ç†±éœ€æ±‚ï¼Œå¼·èª¿èˆ‡ MGCooling (å…ƒéˆ¦) çš„æŠ€è¡“æ•´åˆå°‡æ˜¯æ˜å¹´ GB200 å‡ºè²¨çš„é—œéµå„ªå‹¢...",
              isTranslated: false,
            },
            {
              title: "MGCooling æ”œæ‰‹å…‰å¯¶ç§‘æŠ€ï¼Œå±•ç¤º Coolite æ•´åˆæ–¹æ¡ˆ",
              source: "Yahooå¥‡æ‘©æ–°è",
              published: "2025-12-01",
              link: "https://www.google.com/search?q=å…ƒéˆ¦ç§‘æŠ€+å…‰å¯¶+Coolite+æ¶²å†·",
              summary:
                "åœ¨æœ€æ–°å±•è¦½ä¸­ï¼ŒMGCooling çš„æ¶²å†·é…ç®¡èˆ‡å…‰å¯¶é›»æºç³»çµ±å®Œç¾çµåˆï¼Œä¸åƒ… PUE é¡¯è‘—é™ä½ï¼Œæ›´å±•ç¾äº†ä¸€æ¢é¾æœå‹™çš„å¯¦åŠ›...",
              isTranslated: false,
            },
          ],
        },
        technology: {
          label: "æŠ€è¡“å‰æ²¿èˆ‡ç ”ç™¼ (R&D)",
          color: "from-violet-500 to-purple-600",
          items: [
            {
              title: "3M Exit Sparks Race for New Two-Phase Immersion Coolants",
              source: "HPCwire (Global)",
              published: "2025-12-03",
              link: "https://www.google.com/search?q=3M+exit+two-phase+immersion+cooling+fluids+development",
              summary:
                "ã€AI æ‘˜è¦ç¿»è­¯ã€‘éš¨è‘— 3M é€€å‡ºå†·å»æ¶²å¸‚å ´ï¼Œå„å¤§åŒ–å·¥å» æ­£ç«¶ç›¸é–‹ç™¼æ–°å‹ PFAS-free çš„å…©ç›¸æµ¸æ²’å¼å†·å»æ¶²ã€‚æ–°ä¸€ä»£ä»‹é›»æ¶²åœ¨æ²¸é»æ§åˆ¶èˆ‡ç’°ä¿æ¨™æº–ä¸Šå–å¾—äº†çªç ´æ€§é€²å±•ã€‚",
              isTranslated: true,
            },
            {
              title: "æ–°ä¸€ä»£ CDU æ™ºæ…§æ¼æ¶²åµæ¸¬æŠ€è¡“è§£æ",
              source: "é›»å­æ™‚å ± (Digitimes)",
              published: "2025-12-02",
              link: "https://www.google.com/search?q=CDU+leak+detection+technology+AI+server",
              summary:
                "ç‚ºè§£æ±ºæ°´å†·ç³»çµ±æœ€è®“äººæ“”æ†‚çš„æ¼æ¶²é¢¨éšªï¼Œæ¥­ç•Œæ¨å‡ºçµåˆ AI å£“åŠ›æ„Ÿæ¸¬çš„è² å£“åµæ¸¬ç³»çµ±ï¼Œèƒ½åœ¨å¾®é‡æ´©æ¼ç™¼ç”Ÿå‰å³æ™‚é˜»æ–·æ°´è·¯...",
              isTranslated: false,
            },
          ],
        },
        competitor: {
          label: "ç«¶å“èˆ‡å…¨çƒä¾›æ‡‰éˆ",
          color: "from-rose-500 to-rose-600",
          items: [
            {
              title: "Vertiv Announces New High-Density Cooling Solutions",
              source: "Data Center Dynamics (US)",
              published: "2025-12-03",
              link: "https://www.google.com/search?q=Vertiv+high+density+cooling+solutions+AI+data+center",
              summary:
                "ã€AI æ‘˜è¦ç¿»è­¯ã€‘Vertiv å®£å¸ƒæ¨å‡ºé‡å° AI è³‡æ–™ä¸­å¿ƒçš„æ–°å‹é«˜å¯†åº¦å†·å»è§£æ±ºæ–¹æ¡ˆã€‚è©²æ–¹æ¡ˆæ—¨åœ¨è§£æ±ºé«˜é” 100kW æ©Ÿæ«ƒç†±è² è·ï¼Œä¸¦æ•´åˆäº†æœ€æ–°çš„ CDU æŠ€è¡“ä»¥æé«˜èƒ½æºæ•ˆç‡ã€‚",
              isTranslated: true,
            },
            {
              title: "é›™é´»ã€å¥‡é‹æ“´ç”¢æ‡‰å° NVIDIA GB200 éœ€æ±‚",
              source: "è‡ªç”±è²¡ç¶“",
              published: "2025-12-03",
              link: "https://www.google.com/search?q=é›™é´»+å¥‡é‹+GB200+æ°´å†·æ¿+æ“´ç”¢",
              summary:
                "éš¨è‘— GB200 å³å°‡æ”¾é‡ï¼Œå°ç£æ•£ç†±å¤§å» é›™é´»èˆ‡å¥‡é‹æ­£ç©æ¥µæ“´å……æ°´å†·æ¿ç”¢èƒ½ï¼Œé è¨ˆæ˜å¹´ Q1 æ”¾é‡...",
              isTranslated: false,
            },
          ],
        },
        trend: {
          label: "ç”¢æ¥­è¶¨å‹¢è§€æ¸¬",
          color: "from-emerald-500 to-emerald-600",
          items: [
            {
              title: "TrendForce: 2025å¹´ AI æ™¶ç‰‡æ¶²å†·æ»²é€ç‡å°‡çªç ´ 20%",
              source: "TrendForce",
              published: "2025-12-03",
              link: "https://www.google.com/search?q=TrendForce+AI+server+liquid+cooling+penetration+rate+2025",
              summary:
                "æ°£å†·æ•£ç†±é¢è‡¨ç“¶é ¸ï¼Œæ¶²å†·å°‡æˆç‚ºé«˜éš AI ä¼ºæœå™¨æ¨™é…ã€‚åˆ†æå¸«æŒ‡å‡º CDU å¸‚å ´è¦æ¨¡å°‡åœ¨æœªä¾†ä¸‰å¹´ç¿»å€...",
              isTranslated: false,
            },
          ],
        },
      };

      function App() {
        const [date, setDate] = useState(new Date().toISOString().split("T")[0]);
        const [isLoading, setIsLoading] = useState(true);
        const [hasRun, setHasRun] = useState(false);
        const [activeTab, setActiveTab] = useState("preview");
        const [newsData, setNewsData] = useState({});

        useEffect(() => {
          runSearch(true);
        }, []);

        function runSearch(isInitial) {
          setIsLoading(true);
          setHasRun(false);
          setTimeout(() => {
            setNewsData(MOCK_NEWS_DATA);
            setIsLoading(false);
            setHasRun(true);
          }, isInitial ? 800 : 1500);
        }

        function generateMarkdown() {
          let md = `# ğŸŒŠ MGCooling å¸‚å ´æƒ…å ±æ—¥å ±\n\n`;
          md += `**æ—¥æœŸ**: ${date}\n`;
          md += `**æ•´ç†å–®ä½**: è¡ŒéŠ·éƒ¨è‡ªå‹•åŒ–ç³»çµ±\n\n---\n\n`;
          md += `## ğŸ“Š é‡é»æ‘˜è¦\n> æœ¬æ—¥å¸‚å ´é‡é»é—œæ³¨æ–¼ NVIDIA GB200 å¸¶å‹•çš„æ¶²å†·æ»²é€ç‡æå‡ï¼Œä»¥åŠåœ‹éš›å¸‚å ´å°æ¶²å†·è¦æ¨¡çš„é æ¸¬ã€‚ç³»çµ±å·²è‡ªå‹•å°‡è‹±æ–‡å¤–é›»ç¿»è­¯ç‚ºä¸­æ–‡æ‘˜è¦ã€‚\n\n`;

          Object.entries(newsData).forEach(([key, section]) => {
            md += `## ${section.label}\n\n`;
            section.items.forEach((item, i) => {
              const prefix = item.isTranslated ? "[AI ç¿»è­¯] " : "";
              md += `### ${i + 1}. ${prefix}${item.title}\n`;
              md += `- **ä¾†æº**: ${item.source} | ${item.published}\n`;
              md += `- **é€£çµ**: [é»æ“Šé–±è®€å…¨æ–‡](${item.link})\n`;
              if (item.isTranslated) {
                md += `- **æ‘˜è¦ (å·²ç¿»è­¯)**: ${item.summary}\n\n`;
              } else {
                md += `\n`;
              }
            });
          });

          md += `---\n*æœ¬å ±å‘Šç”± AI æƒ…å ±ç³»çµ±è‡ªå‹•ç”Ÿæˆï¼Œæ±ºç­–å‰è«‹æŸ¥è­‰åŸå§‹ä¾†æºã€‚*`;
          return md;
        }

        function downloadReport() {
          const blob = new Blob([generateMarkdown()], { type: "text/markdown" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = `MGCooling_DailyReport_${date.replace(/-/g, "")}.md`;
          document.body.appendChild(a);
          a.click();
          URL.revokeObjectURL(url);
        }

        function handlePrint() {
          window.print();
        }

        const allItems =
          Object.keys(newsData).length === 0
            ? []
            : Object.values(newsData).flatMap((section) => section.items);

        return (
          <div className="min-h-screen flex flex-col">
            {/* Header */}
            <header className="print:hidden bg-white/80 backdrop-blur border-b border-gray-200 px-4 md:px-6 py-3 flex items-center justify-between">
              <div className="flex items-center gap-3">
                <div className="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white flex items-center justify-center text-xl shadow">
                  ğŸ“Š
                </div>
                <div>
                  <div className="text-base md:text-lg font-bold leading-tight">
                    MGCooling Daily
                  </div>
                  <div className="text-[10px] md:text-xs text-gray-500 uppercase tracking-[0.18em]">
                    Market Intelligence Report
                  </div>
                </div>
              </div>

              <div className="flex items-center gap-2">
                <button
                  onClick={() => runSearch(false)}
                  disabled={isLoading}
                  className={
                    "px-3 py-1.5 rounded-full text-xs font-semibold flex items-center gap-1 border " +
                    (isLoading
                      ? "border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"
                      : "border-gray-200 bg-white text-gray-700 hover:bg-gray-50")
                  }
                >
                  ğŸ”„
                  {isLoading ? "æ›´æ–°ä¸­..." : "ä¸€éµæ›´æ–°"}
                </button>
                <div className="hidden md:flex items-center gap-1.5 px-3 py-1 rounded-full bg-green-50 border border-green-100 text-xs text-green-700">
                  <span className="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></span>
                  Online
                </div>
              </div>
            </header>

            {/* Tabs */}
            <div className="print:hidden sticky top-[52px] md:top-[56px] z-10 bg-[#f5f5f7]/95 backdrop-blur">
              <div className="max-w-4xl mx-auto px-3 py-3">
                <div className="bg-gray-200/80 p-1 rounded-full flex">
                  <TabButton
                    active={activeTab === "preview"}
                    onClick={() => setActiveTab("preview")}
                  >
                    ğŸ“„ é è¦½
                  </TabButton>
                  <TabButton
                    active={activeTab === "list"}
                    onClick={() => setActiveTab("list")}
                  >
                    ğŸ“‹ æ¸…å–®
                  </TabButton>
                  <TabButton
                    active={activeTab === "export"}
                    onClick={() => setActiveTab("export")}
                  >
                    â¬‡ï¸ åŒ¯å‡º
                  </TabButton>
                </div>
              </div>
            </div>

            {/* Main */}
            <main className="flex-1">
              <div className="max-w-4xl mx-auto px-3 md:px-6 py-6 md:py-8">
                {isLoading && !hasRun ? (
                  <div className="flex flex-col items-center justify-center py-20 gap-4">
                    <div className="w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
                    <div className="text-center">
                      <p className="font-semibold text-gray-800">
                        æ­£åœ¨å½™æ•´ä»Šæ—¥å…¨çƒæƒ…å ±...
                      </p>
                      <p className="text-xs text-gray-500 mt-1">
                        MGCooling AI Intelligence System
                      </p>
                    </div>
                  </div>
                ) : (
                  <>
                    {/* é è¦½å ±è¡¨ */}
                    {(activeTab === "preview" || (typeof window !== "undefined" && window.matchMedia && window.matchMedia("print").matches)) && (
                      <ReportCard date={date} newsData={newsData} />
                    )}

                    {/* æ¸…å–® */}
                    {activeTab === "list" && (
                      <div className="bg-white rounded-xl shadow border border-gray-200 overflow-hidden">
                        <div className="overflow-x-auto">
                          <table className="w-full text-sm">
                            <thead className="bg-gray-50 text-gray-500 border-b border-gray-200">
                              <tr>
                                <th className="px-4 py-3 text-left">Title</th>
                                <th className="px-4 py-3 text-left w-32">
                                  Source
                                </th>
                                <th className="px-4 py-3 text-left w-24">
                                  Lang
                                </th>
                                <th className="px-4 py-3 text-center w-16">
                                  Link
                                </th>
                              </tr>
                            </thead>
                            <tbody className="divide-y divide-gray-100">
                              {allItems.map((item, i) => (
                                <tr
                                  key={i}
                                  className="hover:bg-gray-50 transition"
                                >
                                  <td className="px-4 py-3 align-top">
                                    <div className="font-medium text-gray-900">
                                      {item.title}
                                    </div>
                                  </td>
                                  <td className="px-4 py-3 text-gray-500 text-xs align-top">
                                    {item.source}
                                  </td>
                                  <td className="px-4 py-3 text-xs align-top">
                                    {item.isTranslated ? (
                                      <span className="inline-flex items-center px-2 py-0.5 rounded-full bg-indigo-50 text-indigo-600 font-semibold">
                                        ENâ†’ZH
                                      </span>
                                    ) : (
                                      <span className="text-gray-400">
                                        ä¸­æ–‡
                                      </span>
                                    )}
                                  </td>
                                  <td className="px-4 py-3 text-center align-top">
                                    <a
                                      href={item.link}
                                      target="_blank"
                                      rel="noopener noreferrer"
                                      className="text-blue-600 hover:underline text-sm"
                                    >
                                      ğŸ”—
                                    </a>
                                  </td>
                                </tr>
                              ))}
                            </tbody>
                          </table>
                        </div>
                      </div>
                    )}

                    {/* åŒ¯å‡º */}
                    {activeTab === "export" && (
                      <div className="bg-white rounded-xl shadow border border-gray-200 p-10 flex flex-col items-center text-center gap-6">
                        <div className="w-16 h-16 rounded-3xl bg-green-50 flex items-center justify-center text-3xl">
                          â¬‡ï¸
                        </div>
                        <div>
                          <h2 className="text-xl font-bold text-gray-900 mb-1">
                            åŒ¯å‡ºå ±è¡¨
                          </h2>
                          <p className="text-sm text-gray-500 max-w-xs">
                            å¯ä»¥ä¸‹è¼‰ Markdown æˆ–ä½¿ç”¨ç€è¦½å™¨åˆ—å°æˆ PDFï¼Œåˆ†äº«çµ¦åœ˜éšŠä½¿ç”¨ã€‚
                          </p>
                        </div>
                        <div className="flex flex-col gap-3 w-full max-w-xs">
                          <button
                            onClick={handlePrint}
                            className="w-full py-3 rounded-xl bg-indigo-600 text-white font-semibold hover:bg-indigo-700 active:scale-95 transition"
                          >
                            ğŸ–¨ï¸ åˆ—å° / å¦å­˜ PDF
                          </button>
                          <button
                            onClick={downloadReport}
                            className="w-full py-3 rounded-xl border border-gray-200 bg-white text-gray-800 font-semibold hover:bg-gray-50 active:scale-95 transition"
                          >
                            ğŸ“„ ä¸‹è¼‰ Markdown
                          </button>
                        </div>
                      </div>
                    )}
                  </>
                )}
              </div>
            </main>
          </div>
        );
      }

      function TabButton({ active, children, onClick }) {
        return (
          <button
            onClick={onClick}
            className={
              "flex-1 px-3 py-2 rounded-full text-xs md:text-sm font-semibold transition " +
              (active ? "bg-white shadow text-gray-900" : "text-gray-500")
            }
          >
            {children}
          </button>
        );
      }

      function ReportCard({ date, newsData }) {
        if (Object.keys(newsData).length === 0) {
          return (
            <div className="bg-white rounded-xl shadow border border-gray-200 p-10 text-center text-gray-500">
              å°šæœªè¼‰å…¥ä»»ä½•æƒ…å ±ã€‚
            </div>
          );
        }

        return (
          <div className="bg-white rounded-xl shadow-xl shadow-gray-200/60 ring-1 ring-black/5 overflow-hidden">
            {/* header */}
            <div className="bg-gray-50 border-b border-gray-100 p-6 md:p-8 text-center relative">
              <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"></div>
              <p className="text-[10px] md:text-xs font-bold tracking-[0.25em] text-gray-400 uppercase mb-2">
                Daily Intelligence Report
              </p>
              <h1 className="text-2xl md:text-3xl font-extrabold text-gray-900 mb-3">
                MGCooling å¸‚å ´æƒ…å ±æ—¥å ±
              </h1>
              <div className="inline-flex items-center gap-2 px-4 py-1 rounded-full border border-gray-200 bg-white shadow text-xs text-gray-600">
                <span>ğŸ“…</span>
                <span>{date}</span>
              </div>
            </div>

            {/* body */}
            <div className="p-5 md:p-8 space-y-8">
              <div className="bg-gradient-to-br from-gray-50 to-white rounded-xl border border-gray-100 p-5">
                <div className="flex justify-center mb-3">
                  <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white border border-gray-200 text-[10px] font-semibold uppercase tracking-wide text-gray-700">
                    ğŸ“Œ Executive Summary
                  </div>
                </div>
                <p className="text-gray-700 text-sm md:text-base text-center leading-relaxed italic">
                  ã€Œæœ¬æ—¥ç„¦é»ï¼šæ–°å‹ PFAS-free å†·å»æ¶²å¼•ç™¼ R&D é—œæ³¨ï¼Œæ¼æ¶²åµæ¸¬æŠ€è¡“æˆç‚º CDU æ¡è³¼é‡é»ã€‚MGCooling éœ€æŒçºŒæ·±åŒ–èˆ‡
                  ODM å¤¥ä¼´ä¹‹æ•´åˆå„ªå‹¢ã€‚ã€
                </p>
              </div>

              {Object.entries(newsData).map(([key, section]) => (
                <div key={key} className="space-y-3">
                  <div
                    className={`bg-gradient-to-r ${section.color} px-4 py-2 rounded-lg text-white flex items-center justify-between`}
                  >
                    <h2 className="text-sm md:text-base font-bold">
                      {section.label}
                    </h2>
                    <span className="text-[10px] bg-white/20 rounded-full px-2 py-0.5">
                      {section.items.length} å‰‡
                    </span>
                  </div>
                  <div className="space-y-3">
                    {section.items.map((item, i) => (
                      <div
                        key={i}
                        className="border border-gray-100 rounded-lg bg-white p-4 hover:shadow-sm transition"
                      >
                        <div className="flex flex-wrap items-center justify-between gap-2 mb-1.5">
                          <h3 className="font-semibold text-gray-900 text-sm md:text-base">
                            {item.isTranslated && (
                              <span className="inline-block text-[10px] mr-1 px-1.5 py-0.5 rounded bg-indigo-50 text-indigo-600 border border-indigo-100">
                                AI è­¯
                              </span>
                            )}
                            {item.title}
                          </h3>
                        </div>
                        <div className="text-[11px] text-gray-400 mb-2">
                          {item.source} Â· {item.published}
                        </div>
                        <p className="text-sm text-gray-700 leading-relaxed">
                          {item.summary}
                        </p>
                        <div className="mt-3 text-right">
                          <a
                            href={item.link}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="inline-flex items-center gap-1 text-xs font-semibold text-blue-600 hover:text-blue-800"
                          >
                            é–±è®€å…¨æ–‡ <span>â€º</span>
                          </a>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              ))}
            </div>

            {/* footer */}
            <div className="bg-gray-50 border-t border-gray-100 p-4 text-center text-[10px] text-gray-400">
              Generated by MGCooling AI Intelligence System
            </div>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
